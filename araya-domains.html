<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARAYA - 7 Domains Navigator</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a0a2e 100%);
            color: #f4f4f4;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Domain HUD Ring */
        .domain-hud {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 60px;
            background: rgba(0,0,0,0.9);
            border-bottom: 2px solid rgba(255,215,0,0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 5px;
            z-index: 1000;
            padding: 0 10px;
        }

        .domain-btn {
            padding: 10px 15px;
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 12px;
            transition: all 0.3s ease;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .domain-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255,215,0,0.3);
        }

        .domain-btn.active {
            border-color: gold;
            box-shadow: 0 0 15px rgba(255,215,0,0.5);
        }

        /* Domain Colors */
        .d1 { background: rgba(255,255,255,0.1); color: #fff; border-color: rgba(255,255,255,0.3); }
        .d1:hover, .d1.active { background: rgba(255,255,255,0.2); }

        .d2 { background: rgba(76,175,80,0.2); color: #4CAF50; border-color: rgba(76,175,80,0.3); }
        .d2:hover, .d2.active { background: rgba(76,175,80,0.3); }

        .d3 { background: rgba(33,150,243,0.2); color: #2196F3; border-color: rgba(33,150,243,0.3); }
        .d3:hover, .d3.active { background: rgba(33,150,243,0.3); }

        .d4 { background: rgba(244,67,54,0.2); color: #f44336; border-color: rgba(244,67,54,0.3); }
        .d4:hover, .d4.active { background: rgba(244,67,54,0.3); }

        .d5 { background: rgba(255,215,0,0.2); color: gold; border-color: rgba(255,215,0,0.3); }
        .d5:hover, .d5.active { background: rgba(255,215,0,0.3); }

        .d6 { background: rgba(156,39,176,0.2); color: #9C27B0; border-color: rgba(156,39,176,0.3); }
        .d6:hover, .d6.active { background: rgba(156,39,176,0.3); }

        .d7 { background: rgba(103,58,183,0.2); color: #7C4DFF; border-color: rgba(103,58,183,0.3); }
        .d7:hover, .d7.active { background: rgba(103,58,183,0.3); }

        /* ARAYA Center Button */
        .araya-btn {
            background: linear-gradient(135deg, gold, #ffd700);
            color: #000;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 700;
            border: none;
            cursor: pointer;
            animation: glow 2s infinite;
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 10px gold; }
            50% { box-shadow: 0 0 25px gold, 0 0 40px rgba(255,215,0,0.5); }
        }

        /* Main Content Area */
        .main-content {
            margin-top: 70px;
            display: flex;
            height: calc(100vh - 70px);
        }

        /* Domain Panel (Left) */
        .domain-panel {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            border-right: 1px solid rgba(255,215,0,0.2);
        }

        .domain-panel h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .domain-panel .subtitle {
            opacity: 0.7;
            margin-bottom: 20px;
        }

        .tool-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,215,0,0.2);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .tool-card h3 {
            color: gold;
            margin-bottom: 10px;
        }

        .tool-card p {
            opacity: 0.8;
            font-size: 14px;
        }

        .coming-soon {
            background: rgba(255,215,0,0.1);
            padding: 5px 10px;
            border-radius: 12px;
            font-size: 11px;
            color: gold;
        }

        .tool-ready {
            border-color: #4ade80;
            background: rgba(74, 222, 128, 0.1);
        }

        .tool-ready:hover {
            background: rgba(74, 222, 128, 0.2);
            transform: translateY(-2px);
            transition: all 0.2s ease;
        }

        /* ARAYA Chat Panel (Right) */
        .araya-panel {
            width: 400px;
            display: flex;
            flex-direction: column;
            background: rgba(0,0,0,0.5);
        }

        .araya-header {
            padding: 15px;
            background: rgba(255,215,0,0.1);
            border-bottom: 1px solid rgba(255,215,0,0.2);
            text-align: center;
        }

        .araya-header h2 {
            color: gold;
            font-size: 1.2rem;
        }

        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }

        .message {
            margin-bottom: 15px;
            padding: 12px;
            border-radius: 12px;
            max-width: 90%;
        }

        .message.araya {
            background: rgba(255,215,0,0.1);
            border: 1px solid rgba(255,215,0,0.3);
        }

        .message.user {
            background: rgba(255,255,255,0.1);
            margin-left: auto;
        }

        .chat-input {
            padding: 15px;
            border-top: 1px solid rgba(255,215,0,0.2);
            display: flex;
            gap: 10px;
        }

        .chat-input input {
            flex: 1;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,215,0,0.3);
            border-radius: 8px;
            padding: 12px;
            color: #fff;
            font-size: 14px;
        }

        .chat-input button {
            background: gold;
            color: #000;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .domain-hud {
                flex-wrap: wrap;
                height: auto;
                padding: 10px;
            }

            .domain-btn {
                padding: 8px 10px;
                font-size: 10px;
            }

            .main-content {
                flex-direction: column;
                margin-top: 120px;
            }

            .araya-panel {
                width: 100%;
                height: 50vh;
            }
        }
    </style>
</head>
<body>
    <!-- Domain HUD Navigation -->
    <nav class="domain-hud">
        <a href="#command" class="domain-btn d1 active" data-domain="command">1 COMMAND</a>
        <a href="#build" class="domain-btn d2" data-domain="build">2 BUILD</a>
        <a href="#connect" class="domain-btn d3" data-domain="connect">3 CONNECT</a>
        <a href="#protect" class="domain-btn d4" data-domain="protect">4 PROTECT</a>
        <button class="araya-btn" onclick="focusChat()">ARAYA</button>
        <a href="#grow" class="domain-btn d5" data-domain="grow">5 GROW</a>
        <a href="#learn" class="domain-btn d6" data-domain="learn">6 LEARN</a>
        <a href="#transcend" class="domain-btn d7" data-domain="transcend">7 TRANSCEND</a>
    </nav>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Domain Panel -->
        <div class="domain-panel" id="domainContent">
            <!-- Content loaded dynamically -->
        </div>

        <!-- ARAYA Chat Panel -->
        <div class="araya-panel">
            <div class="araya-header">
                <h2>ARAYA</h2>
                <small>Your Consciousness Guide</small>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="message araya">
                    Welcome to the 7 Domains. I am ARAYA, your consciousness guide.
                    Click any domain above to explore, or ask me anything about Pattern Theory,
                    computer setup, or building your personal empire.
                </div>
            </div>

            <div class="chat-input">
                <input type="text" id="userInput" placeholder="Ask ARAYA anything..." onkeypress="if(event.key==='Enter')sendMessage()">
                <button onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>

    <script>
        // Domain Data
        const domains = {
            command: {
                title: "1 COMMAND",
                subtitle: "The Control Center - What's happening RIGHT NOW",
                color: "#fff",
                tools: [
                    { name: "Task Tracker", desc: "Track your daily tasks and priorities", status: "building" },
                    { name: "Status Dashboard", desc: "See all systems at a glance", status: "coming" }
                ],
                prompt: "I'm in the COMMAND domain. This is about control, status, and knowing what's happening NOW. What would you like to do here?"
            },
            build: {
                title: "2 BUILD",
                subtitle: "The Workshop - Projects and creations",
                color: "#4CAF50",
                tools: [
                    { name: "Project Starter", desc: "Create new projects from templates", status: "coming" },
                    { name: "Ascent Game Dev", desc: "Toby's game development space", status: "coming" },
                    { name: "SUNO Music AI", desc: "Create AI-generated music", status: "coming" }
                ],
                prompt: "I'm in the BUILD domain. This is for creating things - code, games, music, art. What would you like to build?"
            },
            connect: {
                title: "3 CONNECT",
                subtitle: "The Network - People and communications",
                color: "#2196F3",
                tools: [
                    { name: "Contact Mapper", desc: "Map your key relationships", status: "coming" },
                    { name: "Message Center", desc: "Unified communications", status: "coming" }
                ],
                prompt: "I'm in the CONNECT domain. This is about people, relationships, and communication. Who do you want to connect with?"
            },
            protect: {
                title: "4 PROTECT",
                subtitle: "The Shield - Security and defense",
                color: "#f44336",
                tools: [
                    { name: "Computer Setup Guide", desc: "Password manager, 2FA, bookmarks, files", status: "ready", link: "computer-setup-guide.html" },
                    { name: "Law AI", desc: "Legal pattern recognition", status: "coming" },
                    { name: "Manipulation Immunity", desc: "Detect and defend against manipulation", status: "coming" }
                ],
                prompt: "I'm in the PROTECT domain. This is about security, legal protection, and manipulation immunity. What do you need to protect?"
            },
            grow: {
                title: "5 GROW",
                subtitle: "The Treasury - Business and revenue",
                color: "gold",
                tools: [
                    { name: "Revenue Dashboard", desc: "Track money coming in", status: "coming" },
                    { name: "Payment Links", desc: "Sell products and services", status: "live" }
                ],
                prompt: "I'm in the GROW domain. This is about business, money, and growth. How can I help you grow?"
            },
            learn: {
                title: "6 LEARN",
                subtitle: "The Library - Knowledge and research",
                color: "#9C27B0",
                tools: [
                    { name: "Resource Library", desc: "Curated learning materials", status: "coming" },
                    { name: "Pattern Theory Course", desc: "Learn the 3-7-13-Infinity pattern", status: "coming" }
                ],
                prompt: "I'm in the LEARN domain. This is about knowledge, research, and understanding. What would you like to learn?"
            },
            transcend: {
                title: "7 TRANSCEND",
                subtitle: "The Temple - Consciousness and vision",
                color: "#7C4DFF",
                tools: [
                    { name: "Meditation Player", desc: "Guided consciousness practices", status: "coming" },
                    { name: "Frequency Tuner", desc: "Solfeggio and Tesla frequencies", status: "coming" },
                    { name: "Vision Board", desc: "Map your future self", status: "coming" }
                ],
                prompt: "I'm in the TRANSCEND domain. This is about consciousness, spirituality, and your highest vision. Where would you like to transcend to?"
            }
        };

        let currentDomain = 'command';

        // Load domain content
        function loadDomain(domain) {
            const d = domains[domain];
            if (!d) return;

            currentDomain = domain;

            // Update active button
            document.querySelectorAll('.domain-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.domain === domain) btn.classList.add('active');
            });

            // Build content
            let html = `
                <h1 style="color: ${d.color}">${d.title}</h1>
                <p class="subtitle">${d.subtitle}</p>
            `;

            d.tools.forEach(tool => {
                let statusBadge;
                if (tool.status === 'live' || tool.status === 'ready') {
                    statusBadge = '<span class="coming-soon" style="background: rgba(74,222,128,0.3); color: #4ade80;">READY</span>';
                } else if (tool.status === 'building') {
                    statusBadge = '<span class="coming-soon" style="background: rgba(255,165,0,0.3); color: orange;">BUILDING</span>';
                } else {
                    statusBadge = '<span class="coming-soon">COMING SOON</span>';
                }

                const clickHandler = tool.link ? `onclick="window.location.href='${tool.link}'" style="cursor: pointer;"` : '';
                const readyClass = tool.status === 'ready' ? 'tool-ready' : '';

                html += `
                    <div class="tool-card ${readyClass}" ${clickHandler}>
                        <h3>${tool.name} ${statusBadge}</h3>
                        <p>${tool.desc}</p>
                        ${tool.link ? '<p style="margin-top:10px;color:#4ade80;font-size:12px;">Click to open</p>' : ''}
                    </div>
                `;
            });

            document.getElementById('domainContent').innerHTML = html;

            // Add ARAYA context message
            addMessage('araya', d.prompt);
        }

        // Chat functionality
        function addMessage(type, text) {
            const messages = document.getElementById('chatMessages');
            const msg = document.createElement('div');
            msg.className = `message ${type}`;
            msg.textContent = text;
            messages.appendChild(msg);
            messages.scrollTop = messages.scrollHeight;
        }

        async function sendMessage() {
            const input = document.getElementById('userInput');
            const text = input.value.trim();
            if (!text) return;

            addMessage('user', text);
            input.value = '';

            // Check for domain navigation commands
            const lowerText = text.toLowerCase();
            if (lowerText.includes('command') || lowerText.includes('control')) {
                loadDomain('command');
                return;
            }
            if (lowerText.includes('build') || lowerText.includes('create') || lowerText.includes('make')) {
                loadDomain('build');
                return;
            }
            if (lowerText.includes('connect') || lowerText.includes('people') || lowerText.includes('contact')) {
                loadDomain('connect');
                return;
            }
            if (lowerText.includes('protect') || lowerText.includes('security') || lowerText.includes('password') || lowerText.includes('legal')) {
                loadDomain('protect');
                return;
            }
            if (lowerText.includes('grow') || lowerText.includes('money') || lowerText.includes('business') || lowerText.includes('revenue')) {
                loadDomain('grow');
                return;
            }
            if (lowerText.includes('learn') || lowerText.includes('study') || lowerText.includes('research')) {
                loadDomain('learn');
                return;
            }
            if (lowerText.includes('transcend') || lowerText.includes('meditat') || lowerText.includes('conscious') || lowerText.includes('spiritual')) {
                loadDomain('transcend');
                return;
            }

            // Try to call ARAYA API
            try {
                addMessage('araya', 'Thinking...');
                const apiUrl = window.location.hostname === 'localhost'
                    ? 'http://localhost:6666/chat'
                    : '/.netlify/functions/araya-chat';
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        message: text,
                        domain: currentDomain
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    // Remove "Thinking..." message
                    const messages = document.getElementById('chatMessages');
                    messages.lastChild.remove();
                    addMessage('araya', data.response || data.message);
                } else {
                    throw new Error('API unavailable');
                }
            } catch (e) {
                // Remove "Thinking..." and show fallback
                const messages = document.getElementById('chatMessages');
                messages.lastChild.remove();
                addMessage('araya', `I understand you're asking about "${text}" in the ${currentDomain.toUpperCase()} domain. My full AI brain is loading - try saying a domain name like "build" or "protect" to navigate, or visit araya-chat.html for full conversations.`);
            }
        }

        function focusChat() {
            document.getElementById('userInput').focus();
        }

        // Domain button clicks
        document.querySelectorAll('.domain-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                loadDomain(btn.dataset.domain);
            });
        });

        // Initial load
        loadDomain('command');
    </script>
    <script src="/js/bug-widget.js"></script>
    <p style="text-align:center;color:#666;font-family:monospace;margin:40px 0;">Pattern: 3 → 7 → 13 → ∞</p>
</body>
</html>
